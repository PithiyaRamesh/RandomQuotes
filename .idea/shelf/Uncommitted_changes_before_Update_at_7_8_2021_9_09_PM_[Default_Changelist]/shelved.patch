Index: app/src/main/java/com/randomquotes/SplashActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.randomquotes;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.Network;\r\nimport android.net.NetworkCapabilities;\r\nimport android.net.NetworkInfo;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class SplashActivity extends AppCompatActivity {\r\n    private static final String TAG = \"_\"+SplashActivity.class.getName();\r\n    ArrayList<DataClass> quotes;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_splash);\r\n        getQuotes();\r\n    }\r\n\r\n    private boolean isConnected() {\r\n        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (cm == null){\r\n            return false;\r\n        }\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {\r\n            NetworkCapabilities cap = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\n            if (cap == null) {\r\n                return false;\r\n            }\r\n            if(cap.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)){\r\n                return isInternet();\r\n            }\r\n        } else {\r\n            Network[] networks = cm.getAllNetworks();\r\n            for (Network n: networks) {\r\n                NetworkInfo nInfo = cm.getNetworkInfo(n);\r\n                if (nInfo != null && nInfo.isConnected()){\r\n                    return isInternet();\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private void getQuotes(){\r\n        View view = findViewById(android.R.id.content);\r\n        if (!isConnected()) {\r\n            Snackbar.make(view, \"No Internet!\", Snackbar.LENGTH_INDEFINITE)\r\n                    .setAction(\"Retry\", new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            getQuotes();\r\n                        }\r\n                    }).show();\r\n        }\r\n        else{\r\n                String url = \"https://type.fit/api/quotes\";\r\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, url,\r\n                        response -> {\r\n                            try {\r\n                                JSONArray jsonArray = new JSONArray(response);\r\n                                JSONObject jsonObject;\r\n                                quotes = new ArrayList<>();\r\n                                for (int i = 0; i < jsonArray.length(); i++) {\r\n                                    jsonObject = jsonArray.getJSONObject(i);\r\n                                    quotes.add(new DataClass(jsonObject.getString(\"text\"), \"~\" + jsonObject.getString(\"author\")));\r\n                                }\r\n                                Intent intentMain = new Intent(this, MainActivity.class);\r\n                                intentMain.putParcelableArrayListExtra(\"quotes\", quotes);\r\n                                startActivity(intentMain);\r\n                            } catch (Exception e) {\r\n                                Log.e(TAG, \"ERROR: \" + e);\r\n                                Toast.makeText(getApplicationContext(), \"Please Check Internet: \" + e, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }, error -> Toast.makeText(getApplicationContext(), \"ERROR\", Toast.LENGTH_LONG).show());\r\n\r\n                RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n                requestQueue.add(stringRequest);\r\n            }\r\n    }\r\n\r\n    private boolean isInternet(){\r\n        Process process;\r\n        try {\r\n            process = Runtime.getRuntime().exec(\"/system/bin/ping -c 1 8.8.8.8\");\r\n            if (process.waitFor() == 0) {\r\n                return true;\r\n            }\r\n        } catch (InterruptedException | IOException e) {\r\n            Log.e(TAG,e.toString());\r\n        }\r\n        return false;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/randomquotes/SplashActivity.java	(revision 6e9cd2962ffc9fa645f39284d989d5ee590a53e9)
+++ app/src/main/java/com/randomquotes/SplashActivity.java	(date 1625758786522)
@@ -10,7 +10,6 @@
 import android.net.NetworkInfo;
 import android.os.Build;
 import android.os.Bundle;
-import android.os.Handler;
 import android.util.Log;
 import android.view.View;
 import android.view.Window;
